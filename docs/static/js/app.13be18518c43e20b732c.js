webpackJsonp([1],{"7l7X":function(t,e){},"7zck":function(t,e){},F1jB:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("/5sW"),s=i("BO1k"),n=i.n(s),h=i("Zrlr"),r=i.n(h),a=i("wxAW"),l=i.n(a),u=[2,4,5,7,9,11,12],c=[2,3,5,7,8,10,12],v=[2,3,5,7,8,11,12],d=[2,3,5,7,9,11,12],y=[2,3,5,7,9,10,12],f=[1,3,5,7,8,10,12],m=[2,4,6,7,9,11,12],p=[2,4,5,7,9,10,12],g=[2,3,5,7,8,10,12],b=[1,3,5,6,8,10,12],_={Major:u,Minor:c,"harmonic Minor":v,"Melodic Minor":d,Ionian:u,Dorian:y,Phrygian:f,Lydian:m,Mixolydian:p,Aeolian:g,Locrian:b},I=["C","F","Bb","Eb","Ab","Db","Gb"],E={"#":["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],b:["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"]},k=Math.pow(2,1/12),q=i("k9Ku"),M=function(){function t(){r()(this,t),this.loaded=[]}return l()(t,[{key:"set",value:function(t,e,i){if(!this.loaded[t+e+i]){var o="/static/Media/"+t+"/FF_"+e+i+".mp3";console.log(o),this.loaded[t+e+i]=new q.Howl({src:[o]})}}},{key:"get",value:function(t){return this.loaded[t.instrument+E.b[E[t.lang].indexOf(t.note)]+t.octave]}}]),t}();var w=function(){function t(e,i,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r()(this,t),this.root=e.clone(),this.third=i.clone(),this.fifth=o.clone(),this.isChord=!0,this.third.octave=this.root.octave,this.fifth.octave=this.root.octave,this.root.index>this.third.index&&(this.third.octave=this.root.octave+1),this.root.index>this.fifth.index&&(this.fifth.octave=this.root.octave+1),this.root.getInterval(4).isEqual(this.third)?this.root.getInterval(7).isEqual(this.fifth)?null==s?(this.type="Major",this.symbol=""):(this.note4=s,this.root.getInterval(5).isEqual(this.note4)?(this.type="Added Fourth",this.symbol="add4"):this.root.getInterval(9).isEqual(this.note4)?null==n?(this.note5=n,this.type="Sixth",this.symbol="6"):this.root.getInterval(14).isEqual(this.note5)?(this.type="Six Nine",this.symbol="6/9"):this.isChord=!1:this.root.getInterval(11).isEqual(this.note4)?null==n?(this.type="Major 7th",this.symbol="Maj7"):(this.note5=n,this.root.getInterval(14).isEqual(n)?(this.type="Major Ninth",this.symbol="Maj9"):this.root.getInterval(17).isEqual(n)?(this.type="Major Eleventh",this.symbol="Maj11"):this.root.getInterval(21).isEqual(n)?(this.type="Major Thirteenth",this.symbol="Maj13"):this.root.getInterval(18).isEqual(n)?(this.type="Major Seven Sharp Eleventh",this.symbol="Maj7#11"):this.isChord=!1):this.root.getInterval(10).isEqual(this.note4)&&(null==n?(this.type="Seventh",this.symbol="7"):(this.note5=n,this.root.getInterval(14).isEqual(n)?(this.type="Ninth",this.symbol="9"):this.root.getInterval(17).isEqual(n)?(this.type="Eleventh",this.symbol="11"):this.root.getInterval(21).isEqual(n)&&(this.type="Thirteenth",this.symbol="13")))):this.root.getInterval(6).isEqual(this.fifth)?(this.type="Major Flat Fifth",this.symbol="b5"):this.root.getInterval(8).isEqual(this.fifth)&&(this.type="Major Augmented Fifth",this.symbol="aug"):this.root.getInterval(3).isEqual(this.third)&&(this.root.getInterval(7).isEqual(this.fifth)?null==s?(this.type="Minor",this.symbol="m"):(this.note4=s.clone(),this.root.getInterval(5).isEqual(this.note4)?(this.type="Minor Added Fourth",this.symbol="madd4"):this.root.getInterval(9).isEqual(this.note4)?null==n?(this.note5=n,this.type="Minor Sixth",this.symbol="m6"):this.root.getInterval(14).isEqual(this.note5)?(this.type="Minor Six Nine",this.symbol="m6/9"):this.isChord=!1:this.root.getInterval(10).isEqual(this.note4)&&(null==n?(this.type="Minor Seventh",this.symbol="m7"):(this.note5=n.clone(),this.root.getInterval(14).isEqual(n)?(this.type="Minor Ninth",this.symbol="m9"):this.root.getInterval(17).isEqual(n)?(this.type="Minor Eleventh",this.symbol="m11"):this.root.getInterval(21).isEqual(n)?(this.type="Minor Thirteenth",this.symbol="m13"):this.isChord=!1))):this.root.getInterval(6).isEqual(this.fifth)&&(null==this.note4?(this.type="Diminished",this.symbol="dim"):(this.note4=s,this.root.getInterval(9).isEqual(this.note4)&&(this.type="Diminished Seventh",this.symbol="dim7")))),void 0==this.type&&(this.root.lang="#"==this.root.lang?"b":"#",this.root.getInterval(4).isEqual(this.third)?this.root.getInterval(7).isEqual(this.fifth)?null==s?(this.type="Major",this.symbol=""):(this.note4=s,this.root.getInterval(5).isEqual(this.note4)?(this.type="Added Fourth",this.symbol="add4"):this.root.getInterval(9).isEqual(this.note4)?null==n?(this.note5=n,this.type="Sixth",this.symbol="6"):this.root.getInterval(14).isEqual(this.note5)?(this.type="Six Nine",this.symbol="6/9"):this.isChord=!1:this.root.getInterval(11).isEqual(this.note4)?null==n?(this.type="Major 7th",this.symbol="Maj7"):(this.note5=n,this.root.getInterval(14).isEqual(n)?(this.type="Major Ninth",this.symbol="Maj9"):this.root.getInterval(17).isEqual(n)?(this.type="Major Eleventh",this.symbol="Maj11"):this.root.getInterval(21).isEqual(n)?(this.type="Major Thirteenth",this.symbol="Maj13"):this.root.getInterval(18).isEqual(n)?(this.type="Major Seven Sharp Eleventh",this.symbol="Maj7#11"):this.isChord=!1):this.root.getInterval(10).isEqual(this.note4)&&(null==n?(this.type="Seventh",this.symbol="7"):(this.note5=n,this.root.getInterval(14).isEqual(n)?(this.type="Ninth",this.symbol="9"):this.root.getInterval(17).isEqual(n)?(this.type="Eleventh",this.symbol="11"):this.root.getInterval(21).isEqual(n)&&(this.type="Thirteenth",this.symbol="13")))):this.root.getInterval(6).isEqual(this.fifth)?(this.type="Major Flat Fifth",this.symbol="b5"):this.root.getInterval(8).isEqual(this.fifth)&&(this.type="Major Augmented Fifth",this.symbol="aug"):this.root.getInterval(3).isEqual(this.third)&&(this.root.getInterval(7).isEqual(this.fifth)?null==s?(this.type="Minor",this.symbol="m"):(this.note4=s,this.root.getInterval(5).isEqual(this.note4)?(this.type="Minor Added Fourth",this.symbol="madd4"):this.root.getInterval(9).isEqual(this.note4)?null==n?(this.note5=n,this.type="Minor Sixth",this.symbol="m6"):this.root.getInterval(14).isEqual(this.note5)?(this.type="Minor Six Nine",this.symbol="m6/9"):this.isChord=!1:this.root.getInterval(10).isEqual(this.note4)&&(null==n?(this.type="Minor Seventh",this.symbol="m7"):(this.note5=n,this.root.getInterval(14).isEqual(n)?(this.type="Minor Ninth",this.symbol="m9"):this.root.getInterval(17).isEqual(n)?(this.type="Minor Eleventh",this.symbol="m11"):this.root.getInterval(21).isEqual(n)?(this.type="Minor Thirteenth",this.symbol="m13"):this.isChord=!1))):this.root.getInterval(6).isEqual(this.fifth)&&(null==this.note4?(this.type="Diminished",this.symbol="dim"):(this.note4=s,this.root.getInterval(9).isEqual(this.note4)&&(this.type="Diminished Seventh",this.symbol="dim7"))))),null==this.note4?this.chord_notes=[this.root,this.third,this.fifth]:null==this.note5?this.chord_notes=[this.root,this.third,this.fifth,this.note4]:this.chord_notes=[this.root,this.third,this.fifth,this.note4,this.note5]}return l()(t,[{key:"playsMelody",value:function(){for(var t=this,e=function(e){setTimeout(function(){t.chord_notes[e].play()},500*e)},i=0;i<this.chord_notes.length;i++)e(i);console.log(this.chord_notes)}},{key:"play",value:function(){for(var t=0;t<this.chord_notes.length;t++)this.chord_notes[t].play()}},{key:"rootPosition",value:function(){return this.third._octave=this.root._octave,this.fifth._octave=this.root._octave,this}},{key:"inversionFirst",value:function(){return this.root._octave=this.root._octave+1,this}},{key:"inversionSecond",value:function(){return this.root._octave=this.root._octave+1,this.third._octave=this.third._octave+1,this}},{key:"toString",value:function(){return void 0==this.symbol?null==this.note4?this.root.note+" {"+this.root+", "+this.third+", "+this.fifth+"}":null==this.note5?this.root.note+" {"+this.root+", "+this.third+", "+this.fifth+", "+this.note4+"}":this.root.note+" {"+this.root+", "+this.third+", "+this.fifth+", "+this.note4+", "+this.note5+"}":null==this.note4?this.root.note+this.symbol+" {"+this.root+", "+this.third+", "+this.fifth+"}":null==this.note5?this.root.note+this.symbol+" {"+this.root+", "+this.third+", "+this.fifth+", "+this.note4+"}":this.root.note+this.symbol+" {"+this.root+", "+this.third+", "+this.fifth+", "+this.note4+", "+this.note5+"}"}}]),t}(),x=new M,S=function(){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;arguments.length>2&&void 0!==arguments[2]&&arguments[2];r()(this,t),i=(e=i).charAt(0).toUpperCase()+e.slice(1),i=E["#"].includes(i)||E.b.includes(i)?i:"A",this.octave=o,this.lang=I.includes(i)?"b":"#",this.index=E[this.lang].indexOf(i),this.note=i,this.instrument="Piano",this.path=null,this.sound=null,t.setSoundData(this.instrument,E.b[E[this.lang].indexOf(this.note)],this._octave)}return l()(t,[{key:"clone",value:function(){return new t(this.note,this.octave,this.instrument)}},{key:"getInterval",value:function(e){var i=(this.index+e)/12;return E[this.lang][this.index][0],E[this.lang][(this.index+e)%12][0],new t(E[this.lang][(this.index+e)%12],parseInt(this.octave)+parseInt(i),this.instrument)}},{key:"getMajorChord",value:function(){return new w(this,this.getInterval(4),this.getInterval(7))}},{key:"getMajorScale",value:function(){var t=[this.note],e=!0,i=!1,o=void 0;try{for(var s,h=n()(major_scale);!(e=(s=h.next()).done);e=!0){var r=s.value;t.push(this.getInterval(r))}}catch(t){i=!0,o=t}finally{try{!e&&h.return&&h.return()}finally{if(i)throw o}}return toString(t)}},{key:"toString",value:function(){return this.note+this.octave}},{key:"isEqual",value:function(t){return this.note==t.note&&this._octave==t._octave}},{key:"print",value:function(){return"{Note: "+this.note+", Octave: "+this.octave+"}"}},{key:"play",value:function(){t.getSoundData(this)?t.getSoundData(this).play():console.log("Sound not loaded! please make sure you load with x.loadSound()")}},{key:"note",get:function(){return this._note},set:function(t){this._note=E["#"].includes(t)||E.b.includes(t)?t:this._note}},{key:"octave",get:function(){return this._octave},set:function(t){this._octave=t}},{key:"frequency",get:function(){var t=this.octave-4;return 440*Math.pow(k,this.index-9+12*t)}}],[{key:"setSoundData",value:function(t,e,i){x.set(t,e,i)}},{key:"getSoundData",value:function(t){return x.get(t)}}]),t}(),N=S,j=i("Zx67"),C=i.n(j),A=i("zwoO"),D=i.n(A),F=i("Pf15"),T=i.n(F),P=function(t){function e(t,i){r()(this,e);var o=D()(this,(e.__proto__||C()(e)).call(this,t,i));for(var s in o.chords=[],o.show=!1,o.notes.slice(0,7))o.chords.push(new w(o.notes[s],o.notes[(parseInt(s)+2)%7],o.notes[(parseInt(s)+4)%7]));return o}return T()(e,t),l()(e,[{key:"getChord",value:function(t){return void 0!=this.chords[t-1]?this.chords[t-1]:null}},{key:"getChords",value:function(){return this.chords}}]),e}(function(){function t(e,i){r()(this,t),this.tonic=e instanceof N?e.clone():new N(e),this.pattern=i,this.notes=[this.tonic];var o=!0,s=!1,h=void 0;try{for(var a,l=n()(i);!(o=(a=l.next()).done);o=!0){var u=a.value;this.notes.push(this.tonic.getInterval(u))}}catch(t){s=!0,h=t}finally{try{!o&&l.return&&l.return()}finally{if(s)throw h}}}return l()(t,[{key:"getNotes",value:function(){return this._notes}},{key:"toString",value:function(){for(var t="",e=0;e<this.notes.length-1;++e)t+=this.notes[e]+", ";return t+=this.notes[this.notes.length-1]}},{key:"getInterval",value:function(t){for(var e=0,i=0;i<t;i++)e+=this.pattern[i];return this.tonic.getInterval(e)}},{key:"loadSound",value:function(){var t=!0,e=!1,i=void 0;try{for(var o,s=n()(this.notes);!(t=(o=s.next()).done);t=!0){o.value.loadSound()}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}}},{key:"plays",value:function(){for(var t=this,e=function(e){setTimeout(function(){t.notes[e].play()},500*e)},i=0;i<this.notes.length;i++)e(i)}}]),t}());var B={name:"Home",data:function(){return{n:"",octave:"",note:"",note_output:"",scale_output:"",scale:[],diatonic_scales:_,chord_types:["root","1st Inversion","second Inversion"]}},methods:{f:function(){var t;if(null!=this.n&&(this.n=(t=this.n).charAt(0).toUpperCase()+t.slice(1)),E["#"].includes(this.n)||E.b.includes(this.n))for(var e in this.note=""==this.octave?new S(this.n):new S(this.n,this.octave),this.note_output="Note: "+this.note,this.scale=[],_)this.scale.push(new P(this.note,_[e]));else this.note="",this.note_output="NOT A NOTE!",this.scale=[]},g:function(t){t.show=!t.show},oct:function(){for(var t=this,e=[],i=1;i<=7;i++)e.push(new S(this.n,i));this.foo=e;var o=setInterval(function(){var e=Math.floor(7*Math.random());t.foo[e].play()},2e3);setTimeout(function(){clearInterval(o)},2e4)}}},O={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("h1",[t._v("Scales!")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.n,expression:"n"}],staticClass:"in",attrs:{type:"text"},domProps:{value:t.n},on:{input:function(e){e.target.composing||(t.n=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.octave,expression:"octave"}],staticClass:"in",attrs:{type:"text"},domProps:{value:t.octave},on:{input:function(e){e.target.composing||(t.octave=e.target.value)}}}),t._v(" "),i("v-btn",{attrs:{round:"",color:"primary green"},on:{click:t.f}},[t._v("get Scale")])],1),t._v(" "),i("v-btn",{staticStyle:{"background-color":"yellow"},attrs:{color:"blue",flat:""},on:{click:function(e){t.note.play()}}},[t._v("\n        "+t._s(t.note_output)),i("v-icon",[t._v("music_note")])],1),t._v(" "),i("v-btn",{staticStyle:{"background-color":"yellow"},attrs:{color:"blue",flat:""},on:{click:t.oct}},[t._v("\n        Study Note:"),i("v-icon",[t._v("music_note")])],1),t._v(" "),i("transition-group",{attrs:{name:"fade",tag:"span"}},t._l(t.scale,function(e,o){return i("div",{key:o,staticClass:"diatonic_scales"},[i("v-btn",{staticClass:"scale_btn",attrs:{round:"",color:"secondary orange"},on:{click:function(i){t.g(e)}}},[t._v(t._s(o+1)+". "+t._s(t.n)+" "+t._s(Object.keys(t.diatonic_scales)[o])+"\n                ")]),t._v(" "),i("v-btn",{staticStyle:{"background-color":"yellow"},attrs:{color:"blue",flat:"",icon:""},on:{click:function(t){e.plays()}}},[i("v-icon",[t._v("music_note")])],1),t._v(" "),1==e.show?t._l(e.chords,function(e){return i("span",{key:e.toString(),staticClass:"chords"},[i("v-card",{attrs:{color:"success blue"}},[t._v(t._s(e.toString())+"\n                    ")]),t._v(" "),i("v-btn",{staticStyle:{"background-color":"yellow"},attrs:{color:"blue",flat:"",icon:""},on:{click:function(t){e.play()}}},[i("v-icon",[t._v("music_note")])],1),t._v(" "),i("v-btn",{staticStyle:{"background-color":"yellow"},attrs:{color:"blue",flat:"",icon:""},on:{click:function(t){e.playsMelody()}}},[i("v-icon",[t._v("music_note")])],1)],1)}):t._e()],2)}))],1)},staticRenderFns:[]};var H,G=i("VU/8")(B,O,!1,function(t){i("XwD4")},"data-v-2c36a256",null).exports,U={w:1,h:.5,q:.25,e:1/8,s:1/16,t:1/32,sf:1/64},V=new(window.AudioContext||window.webkitAudioContext),R=0;function X(){for(;R<V.currentTime+H.scheduleAheadTime;)H.scheduleNote(H.currentNote,R),H.nextNote();H.timerID=setTimeout(X,H.lookahead)}var z=function(){function t(e,i){r()(this,t),this.timerID=null,this.lookahead=25,this.scheduleAheadTime=.1,this.currentNote=0,this.notesInQueue=[],this.next_note_length=1,this.lastNoteDrawn=3,this.bpm=e,this.beats_per_measure=i[0],this.beat_length=i[1],this.isPlaying=!1,this.beat_check=0}return l()(t,[{key:"scheduleNote",value:function(t,e){if(this.notesInQueue.push({note:t,time:e}),this.notes&&this.notes[0]){console.log(this.notes[0].notes.toString()),this.next_note_length=this.notes.length?U[this.notes[0].length]:1;var i=[],o=void 0,s=!0,h=!1,r=void 0;try{for(var a,l=n()(this.notes[0].notes);!(s=(a=l.next()).done);s=!0)o=a.value,i.push(o)}catch(t){h=!0,r=t}finally{try{!s&&l.return&&l.return()}finally{if(h)throw r}}var u=!0,c=!1,v=void 0;try{for(var d,y=n()(i);!(u=(d=y.next()).done);u=!0)(o=d.value).play()}catch(t){c=!0,v=t}finally{try{!u&&y.return&&y.return()}finally{if(c)throw v}}this.notes.splice(0,1),console.log(U[this.notes[0].length])}}},{key:"nextNote",value:function(){var t=60/this.bpm;R+=t*this.next_note_length*this.beats_per_measure,this.beat_check+=t*this.next_note_length,console.log(this.beat_check+" "+t),this.beat_check<=t&&(this.beat_check=0,this.currentNote++,this.currentNote===this.beats_per_measure&&(this.currentNote=0))}},{key:"draw",value:function(){var t=H.lastNoteDrawn;H.currentTime=V.currentTime,H.lastNoteDrawn!=t&&(H.lastNoteDrawn=t),requestAnimationFrame(H.draw)}},{key:"getBeat",value:function(){return this.currentNote}},{key:"toggle",value:function(){H=this,this.isPlaying=!this.isPlaying,this.isPlaying?("suspended"===V.state&&V.resume(),this.currentNote=0,R=V.currentTime,X(),requestAnimationFrame(this.draw)):clearTimeout(this.timerID)}},{key:"addNotes",value:function(t){this.notes=t}}],[{key:"getRhythm",value:function(){return H||(H=new t(60,[4,4]))}}]),t}(),L=function(){function t(e,i){r()(this,t),this.rhythm=e,this.data=i}return l()(t,[{key:"play",value:function(){this.rhythm.addNotes(this.data),this.rhythm.toggle()}},{key:"noteLengthToTime",value:function(t){return note_lengths[t[0]]}}]),t}(),$={name:"Play",data:function(){for(var t=new P("C",u),e={notes:[t.getChord(1)],length:"h"},i={notes:[t.getChord(5)],length:"q"},o=(t.getChord(4),{notes:[t.getChord(6)],length:"h"}),s=[],n=0;n<100;n++)s.push(e,i,i,o,i,i);return{notes:s,bpm:60,meas:new L(new z(60,[4,4]),s),r:new z(60,[4,4]),beat:null}},methods:{g:function(){this.meas.play(),this.beat=this.meas.rhythm.getBeat()},updateBPM:function(){this.meas.rhythm.bpm=this.bpm}}},J={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("h1",[t._v("Bit!")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bpm,expression:"bpm"}],attrs:{name:"bpm",id:"bpm",type:"range",min:"60",max:"180",step:"1"},domProps:{value:t.bpm},on:{change:t.updateBPM,__r:function(e){t.bpm=e.target.value}}}),t._v(" "),i("span",{attrs:{id:"bpmval"}},[t._v(t._s(t.bpm))]),t._v(" "),i("v-btn",{attrs:{slot:"activator"},on:{click:t.g},slot:"activator"},[i("v-icon",[t._v("help")])],1),t._v(" "),t.r?i("p",[t._v(t._s(t.meas.rhythm.getBeat()))]):t._e()],1)},staticRenderFns:[]};var Q={name:"App",components:{Home:G,Play:i("VU/8")($,J,!1,function(t){i("F1jB")},"data-v-79adbabc",null).exports}},W={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Home"),this._v(" "),e("play")],1)},staticRenderFns:[]};var Z=i("VU/8")(Q,W,!1,function(t){i("7l7X")},null,null).exports,K=i("3EgV"),Y=i.n(K),tt=i("/ocq");o.default.use(tt.a);var et=new tt.a({routes:[{path:"/",name:null,component:null}]});i("7zck");i("VN6J").a.options.defaultTemplate='<div class="foo" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',o.default.use(Y.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:et,render:function(t){return t(Z)}})},XwD4:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.13be18518c43e20b732c.js.map