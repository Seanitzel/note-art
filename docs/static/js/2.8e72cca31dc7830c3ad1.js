webpackJsonp([2],{GVC7:function(t,e){},IP0f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("60Of");window.AudioContext=window.AudioContext||window.webkitAudioContext;var r=null,o=null,i=null,s=.04,c={note:"-",pitch:"-",detune:"-",notes:[]};function v(){alert("Stream generation failed.")}window.onload=function(){return r=new AudioContext,Math.max(4,Math.floor(r.sampleRate/5e3)),!1};var l=void 0;function u(t){i=r.createMediaStreamSource(t),(o=r.createAnalyser()).fftSize=2048,i.connect(o),m()}function d(){!function(t,e){try{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia(t,e,v)}catch(t){alert("getUserMedia threw exception :"+t)}}({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},u)}var f=new Float32Array(2048),_=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function h(t,e){return Math.floor(1200*Math.log(t/function(t){return 440*Math.pow(2,(t-69)/12)}(e))/Math.log(2))}var b=!1,g=[],p=[];function w(t,e){for(var n=t.length,r=0,o=0;o<n;o++){var i=t[o];r+=i*i}if((r=Math.sqrt(r/n))<s)return function(){if(b){var t=Object(a.b)(p);l=t>33&&t<63?1:t>=63&&t<=126?2:t>126&&t<253?3:t>=253&&t<=510?4:t>510&&t<1075?5:6,c.notes.push(Object(a.b)(g)+l),g.length=0,p.length=0,b=!1}}(),-1;var v=0,u=n-1;for(o=0;o<n/2;o++)if(Math.abs(t[o])<.2){v=o;break}for(o=1;o<n/2;o++)if(Math.abs(t[n-o])<.2){u=n-o;break}n=(t=t.slice(v,u)).length;var d=new Array(n).fill(0);for(o=0;o<n;o++)for(var f=0;f<n-o;f++)d[o]=d[o]+t[f]*t[f+o];for(var _=0;d[_]>d[_+1];)_++;var h=-1,w=-1;for(o=_;o<n;o++)d[o]>h&&(h=d[o],w=o);var m=w,M=d[m-1],A=d[m],C=d[m+1],q=(M+C-2*A)/2;return q&&(m-=(C-M)/2/(2*q)),e/m}function m(t){new Array;if(o){o.getFloatTimeDomainData(f);var e,n,a=w(f,r.sampleRate);if(-1!=a){b=!0,c.frequency=Math.round(a);var i=(e=a,n=Math.log(e/440)/Math.log(2)*12,Math.round(n)+69);c.note=_[i%12];var s=h(a,i);c.detune=s,g.push(_[i%12]),p.push(c.frequency)}window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame),window.requestAnimationFrame(m)}}var M=n("b/bh"),A={data:function(){return{toggleLiveInput:d,piano:M.a,timer:null,pitch_data:c,cached_notes:g,cached_frequencies:p}},components:{navigation:n("bwGm").a},methods:{getNote:function(){var t=this,e=0;this.timer=setInterval(function(){t.piano.note(t.pitch_data.notes[e]+"q").play(),++e==c.notes.length&&clearInterval(t.timer)},500)},stop:function(){clearInterval(this.timer)}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navigation"),t._v(" "),n("br"),n("br"),t._v(" "),n("v-btn",{attrs:{color:"orange"},on:{click:t.toggleLiveInput}},[t._v("use live input")]),t._v(" "),n("br"),n("br"),t._v(" "),n("span",[t._v("Note: "+t._s(t.pitch_data.note)+" ")]),t._v(" "),n("br"),n("br"),n("br"),t._v(" "),n("span",[t._v("Frquency: "+t._s(t.pitch_data.pitch))]),t._v(" "),n("br"),n("br"),n("br"),t._v(" "),n("span",[t._v("Cents: "+t._s(t.pitch_data.detune))]),t._v(" "),n("br"),n("br"),n("br"),t._v(" "),n("span",[t._v("Notes: "+t._s(t.pitch_data.notes))]),t._v(" "),n("br"),n("br"),n("br"),n("br"),t._v(" "),n("span",[t._v("Cached Notes: "+t._s(t.cached_notes))]),t._v(" "),n("br"),n("br"),n("br"),n("br"),t._v(" "),n("span",[t._v("Cached Frequencies: "+t._s(t.cached_frequencies))]),t._v(" "),n("br"),n("br"),t._v(" "),n("v-btn",{attrs:{color:"green"},on:{click:t.getNote}},[t._v("Play!")]),t._v(" "),n("v-btn",{attrs:{color:"red"},on:{click:t.stop}},[t._v("Stop")])],1)},staticRenderFns:[]};var q=n("VU/8")(A,C,!1,function(t){n("GVC7")},null,null);e.default=q.exports}});
//# sourceMappingURL=2.8e72cca31dc7830c3ad1.js.map